General
+++++++++++++++++++++++++++
- Test system: Xenial, manually compiled fcl (branch fcl-0.5), using dart master branch (version date: 30/09/2016)
- Change of all find_package(DARTCore ...) to find_package(DART ...)
- New dart headers end with .hpp and not .h, changed it where applicable

DARTCollision.cc 74
+++++++++++++++++++++++++++
 old:
	this->dataPtr->dtCollisionShape->setLocalTransform(
            DARTTypes::ConvPose(this->GetRelativePose()));
 new: 
    if (!isPlaneShape)
    {
      dart::dynamics::BodyNode *bn = GetDARTBodyNode();
      if (!bn)
      {
        gzerr << "Body node should have been initialized! \n";
        return;
      }
      Eigen::Isometry3d tf = DARTTypes::ConvPose(this->GetRelativePose()));
      bn->getParentJoint()->setTransformFromParentBodyNode(tf);
    }
 reason: setLocalTransform does not exist any more


DartLink.cc 189
+++++++++++++++++++++++++++
Commmented out the adding to mColShapes as this does not exist any more.
TODO: Do we need to do anything else here instead now?

Compare vim examples/addDeleteSkels/MyWindow.cpp
In Dart version 5.1 and 6, now createShapeNodeWith has to be called when adding shapes.


DartLink.cc 773 ff and 801 ff and 827 ff
+++++++++++++++++++++++++++
dart::CollisionDetector::enablePair/disablePair is gone.

TODO: Can we just skip all of this, or do we need to do anything else?


DartLink.cc 169 and 180
+++++++++++++++++++++++++++
Changed dart::dynamics::BodyNode::Properties to dart::dynamics::BodyNode::AspectProperties()

TODO: Is that right?



DartMesh.cc 153
+++++++++++++++++++++++++++

replace:
  _collision->GetDARTBodyNode()->addCollisionShape(dtMeshShape);
  _collision->SetDARTCollisionShape(dtMeshShape);

by:
  _collision->GetDARTBodyNode()->createShapeNodeWith<dart::dynamics::VisualAspect,
      dart::dynamics::CollisionAspect, dart::dynamics::DynamicsAspect>(dtMeshShape);

(see tutorials/tutorialCollisions.cpp function createGround() for example)


DartModel.cc 216
+++++++++++++++++++++++++++

Commented out block because CollisionDetector::disablePair does not exist any more



DartPhysics.cc 142: 
+++++++++++++++++++++++++++

contacts are now in CollisionResult

OLD:

  dart::collision::CollisionDetectorPtr dtCollisionDetector =
      dtConstraintSolver->getCollisionDetector();
  int numContacts = dtCollisionDetector->getNumContacts();

  for (int i = 0; i < numContacts; ++i)
  {
    const dart::collision::Contact &dtContact =
        dtCollisionDetector->getContact(i);
    dart::dynamics::BodyNode *dtBodyNode1 = dtContact.bodyNode1.lock().get();
    dart::dynamics::BodyNode *dtBodyNode2 = dtContact.bodyNode2.lock().get();


NEW:

    dart::collision::CollisionObject *dtCollObj1 = dtContact.collisionObject1;
    dart::collision::CollisionObject *dtCollObj2 = dtContact.collisionObject2;

    GZ_ASSERT(dtCollObj1 != nullptr, "collision object 1 is null!");
    GZ_ASSERT(dtCollObj2 != nullptr, "collision object 2 is null!");

    dart::dynamics::ConstBodyNodePtr dtBodyNode1;
    dart::dynamics::ConstBodyNodePtr dtBodyNode2;
    /// old:
    // dart::dynamics::BodyNode *dtBodyNode1 = dtContact.bodyNode1.lock().get();
    // dart::dynamics::BodyNode *dtBodyNode2 = dtContact.bodyNode2.lock().get();

    const dart::dynamics::ShapeFrame *dtShapeFrame1 = dtCollObj1->getShapeFrame();
    const dart::dynamics::ShapeFrame *dtShapeFrame2 = dtCollObj2->getShapeFrame();
    
    GZ_ASSERT(dtShapeFrame1 != nullptr, "shape frame 1 is null!");
    GZ_ASSERT(dtShapeFrame2 != nullptr, "shape frame 2 is null!");
    
    if (dtShapeFrame1->isShapeNode())
      dtBodyNode1 = dtShapeFrame1->asShapeNode()->getBodyNodePtr();
    if (dtShapeFrame2->isShapeNode())
      dtBodyNode2 = dtShapeFrame2->asShapeNode()->getBodyNodePtr();
    
    GZ_ASSERT(dtBodyNode1 != nullptr, "body node 1 is null!");
    GZ_ASSERT(dtBodyNode2 != nullptr, "body node 2 is null!");

DARTPlaneShapePrivate.hh 37
+++++++++++++++++++++++++++

TODO PlaneShapePrivate is not supported any more,
we cannot access the setOffet method of Shape any more because it's moved to ShapeNode

